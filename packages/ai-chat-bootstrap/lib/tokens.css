/* Aggregated tokens (legacy single import).
   Now layered: primitives -> semantic -> dark -> component hooks & globals.
   Consumers can alternatively import the specific layers:
     import 'ai-chat-bootstrap/tokens.primitives.css'
     import 'ai-chat-bootstrap/tokens.semantic.css'
     import 'ai-chat-bootstrap/tokens.dark.css' // optional
     import 'ai-chat-bootstrap/tokens.css'      // for hooks & globals
*/

@import "./tokens.primitives.css";
@import "./tokens.semantic.css";
@import "./tokens.dark.css";

/* Component & feature hook variables (single source). */
:root {
  --acb-chat-container-bg: var(--background);
  --acb-chat-container-border: var(--secondary);
  --acb-chat-container-radius: var(--radius);
  --acb-chat-header-bg: var(--background);
  --acb-chat-header-fg: var(--foreground);
  --acb-chat-header-border: var(--secondary);
  --acb-chat-messages-bg: transparent;
  --acb-chat-message-user-bg: var(--primary);
  --acb-chat-message-user-fg: var(--primary-foreground);
  --acb-chat-message-assistant-bg: var(--muted);
  --acb-chat-message-assistant-fg: var(--muted-foreground);
  --acb-chat-message-system-bg: var(--accent);
  --acb-chat-message-system-fg: var(--accent-foreground);
  --acb-chat-message-radius: var(--radius);
  --acb-chat-input-wrapper-bg: oklch(from var(--background) l c h / 0.5);
  --acb-chat-input-wrapper-border: var(--secondary);
  --acb-chat-input-bg: var(--background);
  --acb-chat-input-border: var(--input);
  --acb-chat-input-fg: var(--foreground);
  --acb-chat-input-toolbar-bg: var(--background);
  --acb-chat-input-toolbar-border: var(--border);
  --acb-scrollbar-track: var(--border);
  --acb-scrollbar-thumb: color-mix(
    in oklab,
    var(--foreground) 25%,
    var(--border)
  );
  --acb-scrollbar-thumb-hover: color-mix(
    in oklab,
    var(--foreground) 35%,
    var(--border)
  );
  --acb-tool-bg: var(--card);
  --acb-tool-border: var(--border);
  --acb-tool-radius: var(--radius);
  --acb-tool-header-bg: var(--muted);
  --acb-tool-header-fg: var(--muted-foreground);
  --acb-tool-input-bg: var(--muted);
  --acb-tool-input-fg: var(--foreground);
  --acb-tool-output-bg: var(--accent);
  --acb-tool-output-fg: var(--accent-foreground);
  --acb-tool-error-bg: color-mix(
    in oklab,
    var(--destructive) 15%,
    var(--background)
  );
  --acb-tool-error-fg: var(--destructive);
  --acb-reasoning-fg: var(--muted-foreground);
  --acb-reasoning-icon: var(--muted-foreground);
  --acb-code-bg: var(--background);
  --acb-code-fg: var(--foreground);
  --acb-code-border: var(--border);
  --acb-code-radius: calc(var(--radius) - 2px);
  --acb-code-line-number-fg: var(--muted-foreground);
  --acb-prompt-border: var(--acb-chat-input-border);
  --acb-prompt-bg: var(--acb-chat-input-bg);
  --acb-prompt-fg: var(--acb-chat-input-fg);
  --acb-prompt-divider: var(--acb-chat-input-border);
}

/* Dark-only hook adjustments (semantic + primitives already switch). */
.dark,
:root[data-theme="dark"],
html[data-theme="dark"] {
  --acb-chat-header-bg: var(--card);
  --acb-chat-input-wrapper-bg: oklch(from var(--background) l c h / 0.5);
  --acb-chat-message-assistant-bg: var(--muted);
  --acb-scrollbar-track: var(--secondary);
  --acb-scrollbar-thumb: color-mix(
    in oklab,
    var(--foreground) 20%,
    var(--secondary)
  );
  --acb-scrollbar-thumb-hover: color-mix(
    in oklab,
    var(--foreground) 30%,
    var(--secondary)
  );
  --acb-tool-header-bg: color-mix(in oklab, var(--muted) 60%, black);
  --acb-tool-input-bg: color-mix(in oklab, var(--muted) 55%, black);
  --acb-tool-output-bg: color-mix(in oklab, var(--accent) 55%, black);
  --acb-code-bg: var(--card);
}

:root[data-theme="dark"] .acb-scrollbar::-webkit-scrollbar-track,
.dark .acb-scrollbar::-webkit-scrollbar-track,
html[data-theme="dark"] .acb-scrollbar::-webkit-scrollbar-track {
  background: var(--acb-scrollbar-track); /* darker track */
}

:root[data-theme="dark"] .acb-scrollbar::-webkit-scrollbar-thumb,
.dark .acb-scrollbar::-webkit-scrollbar-thumb,
html[data-theme="dark"] .acb-scrollbar::-webkit-scrollbar-thumb {
  background: var(--acb-scrollbar-thumb);
  border: 2px solid var(--acb-scrollbar-track);
}

:root[data-theme="dark"] .acb-scrollbar:hover::-webkit-scrollbar-thumb,
.dark .acb-scrollbar:hover::-webkit-scrollbar-thumb,
html[data-theme="dark"] .acb-scrollbar:hover::-webkit-scrollbar-thumb {
  background: var(--acb-scrollbar-thumb-hover);
}

/* Light/base scrollbar styling (so variables apply in both themes) */
.acb-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--acb-scrollbar-thumb) var(--acb-scrollbar-track);
}
.acb-scrollbar::-webkit-scrollbar {
  width: var(--acb-scrollbar-size, 10px);
  height: var(--acb-scrollbar-size, 10px);
}
.acb-scrollbar::-webkit-scrollbar-track {
  background: var(--acb-scrollbar-track);
}
.acb-scrollbar::-webkit-scrollbar-thumb {
  background: var(--acb-scrollbar-thumb);
  border-radius: 999px;
  border: 2px solid var(--acb-scrollbar-track);
}
.acb-scrollbar:hover::-webkit-scrollbar-thumb {
  background: var(--acb-scrollbar-thumb-hover);
}

/* Typography globals */
body {
  font-family: var(--font-family);
}
